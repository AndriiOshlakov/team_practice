{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["// Функції для роботи з бекендом\nimport axios from 'axios';\nimport iziToast from 'izitoast';\n\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function getCategoriesFromApi() {\n  try {\n    const { data } = await axios('/products/categories');\n\n    return data;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n\nexport async function getProducts(currentPage) {\n  const url = `/products?limit=12&skip=${(currentPage - 1) * 12}`;\n  try {\n    const { data } = await axios(url);\n    return data;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n\nexport async function getProductsToCategory(category) {\n  try {\n    const data = await axios(`/products/category/${category}`);\n    return data;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n\nexport async function getProductById(id) {\n  try {\n    const data = await axios(`/products/${id}`);\n    return data;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n\nexport async function getProductByName(productName) {\n  try {\n    const data = await axios(`/products/search?q=${productName}`);\n    return data;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n\n    // Lists\n\n    categoryList: document.querySelector(\".categories\"),\n    productList: document.querySelector(\".products\"),\n    cartList: document.querySelector(\".cart-summary__list\"),\n\n    // Not found\n\n    notFound: document.querySelector(\".not-found\"),\n\n    // Search form\n\n    searchForm: document.querySelector(\".search-form\"),\n    searchFormInput: document.querySelector(\".search-form__input\"),\n    searchFormClearBtn: document.querySelector(\".search-form__btn-clear\"),\n    searchFormBtn: document.querySelector(\".search-form__btn\"),\n\n    // Navigation\n\n    navList: document.querySelector(\".nav__list\"),\n    homeLink: document.querySelector('.nav__link[href=\"./index.html\"]'),\n    cartLink: document.querySelector('.nav__link[href=\"./cart.html\"]'),\n    wishlistLink: document.querySelector('.nav__link[href=\"./wishlist.html\"]'),\n\n    // Modal\n\n    modalCloseBtn: document.querySelector(\".modal__close-btn\"),\n    modalProd: document.querySelector(\".modal-product\"),\n    modalProdWishBtn: document.querySelector(\".modal-product__btn--wishlist\"),\n    modalProdCartBtn: document.querySelector(\".modal-product__btn--cart\"),\n\n};\n","//Функцію для створення, рендеру або видалення розмітки\nimport { getCategoriesFromApi, getProducts } from './products-api.js';\nimport { refs } from './refs.js';\n\nexport const markupCategories = categories => {\n  return categories\n    .map(\n      ({ name }) => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${name}</button>\n </li>\n`\n    )\n    .join('');\n};\n\nexport const renderCategories = async () => {\n  const categoriesArr = await getCategoriesFromApi();\n  categoriesArr.unshift({ name: 'All' });\n  refs.categoryList.insertAdjacentHTML(\n    'beforeend',\n    markupCategories(categoriesArr)\n  );\n};\n\nexport const createProductMarkup = products => {\n  return products\n    .map(\n      ({ id, thumbnail, title, brand, category, price }) => `\n        <li class=\"products__item\" data-id=\"${id}\">\n          <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n          <p class=\"products__title\">${title}</p>\n          <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${brand}</p>\n          <p class=\"products__category\">Category: ${category}</p>\n          <p class=\"products__price\">Price: $${price}</p>\n        </li>\n      `\n    )\n    .join('');\n};\n\nexport const renderProductMarkup = async currentPage => {\n  const { products } = await getProducts(currentPage);\n  refs.productList.insertAdjacentHTML(\n    'beforeend',\n    createProductMarkup(products)\n  );\n};\n\nexport const createModalProductMarkup = product => {\n  const {\n    id,\n    thumbnail,\n    title,\n    description,\n    price,\n    tags = [],\n    shippingInformation = 'Free shipping',\n    returnPolicy = '30 days return',\n  } = product;\n\n  const tagMarkup = tags.map(tag => `<li>${tag}</li>`).join('');\n\n  return `\n        <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n        <div class=\"modal-product__content\">\n          <p class=\"modal-product__title\">${title}</p>\n          ${\n            tags.length\n              ? `<ul class=\"modal-product__tags\">${tagMarkup}</ul>`\n              : ''\n          }\n          <p class=\"modal-product__description\">${description}</p>\n          <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n          <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n          <p class=\"modal-product__price\">Price: $${price}</p>\n          <div class=\"modal-product__buttons\">\n            <button class=\"modal-product__wishlist-btn\" type=\"button\" data-id=\"${id}\">\n              Add to Wishlist\n            </button>\n            <button class=\"modal-product__cart-btn\" type=\"button\" data-id=\"${id}\">\n              Add to Cart\n            </button>\n          </div>\n        </div>`;\n};\n\nexport const renderModalProductMarkup = async productId => {\n  const product = await getProductById(productId);\n  const markup = createModalProductMarkup(product);\n  refs.modalProd.innerHTML = markup;\n};\n","import {\n  renderCategories,\n  renderModalProductMarkup,\n  renderProductMarkup,\n} from './js/render-function';\n\n//Логіка сторінки Home\n\nimport { btnTheme, initTheme } from './js/helpers.js'; \n\ninitTheme();\n\nconst themeBtn = document.querySelector('.theme-btn');\n\nif (themeBtn) {\n  themeBtn.addEventListener('click', btnTheme);\n}\n\n\nlet page = 1;\nrenderCategories();\n\nrenderProductMarkup(page);\n\n"],"names":["axios","getCategoriesFromApi","data","error","iziToast","getProducts","currentPage","url","refs","markupCategories","categories","name","renderCategories","categoriesArr","createProductMarkup","products","id","thumbnail","title","brand","category","price","renderProductMarkup","initTheme","themeBtn","btnTheme","page"],"mappings":"+GAIAA,EAAM,SAAS,QAAU,wBAElB,eAAeC,GAAuB,CAC3C,GAAI,CACF,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,sBAAsB,EAEnD,OAAOE,CACX,OAAWC,EAAO,CACdC,EAAS,MAAM,CAAE,QAASD,EAAM,QAAS,SAAU,WAAY,CACnE,CACA,CAEO,eAAeE,EAAYC,EAAa,CAC7C,MAAMC,EAAM,4BAA4BD,EAAc,GAAK,EAAE,GAC7D,GAAI,CACF,KAAM,CAAE,KAAAJ,CAAI,EAAK,MAAMF,EAAMO,CAAG,EAChC,OAAOL,CACX,OAAWC,EAAO,CACdC,EAAS,MAAM,CAAE,QAASD,EAAM,QAAS,SAAU,WAAY,CACnE,CACA,CCtBO,MAAMK,EAAO,CAIhB,aAAc,SAAS,cAAc,aAAa,EAClD,YAAa,SAAS,cAAc,WAAW,EAC/C,SAAU,SAAS,cAAc,qBAAqB,EAItD,SAAU,SAAS,cAAc,YAAY,EAI7C,WAAY,SAAS,cAAc,cAAc,EACjD,gBAAiB,SAAS,cAAc,qBAAqB,EAC7D,mBAAoB,SAAS,cAAc,yBAAyB,EACpE,cAAe,SAAS,cAAc,mBAAmB,EAIzD,QAAS,SAAS,cAAc,YAAY,EAC5C,SAAU,SAAS,cAAc,iCAAiC,EAClE,SAAU,SAAS,cAAc,gCAAgC,EACjE,aAAc,SAAS,cAAc,oCAAoC,EAIzE,cAAe,SAAS,cAAc,mBAAmB,EACzD,UAAW,SAAS,cAAc,gBAAgB,EAClD,iBAAkB,SAAS,cAAc,+BAA+B,EACxE,iBAAkB,SAAS,cAAc,2BAA2B,CAExE,EC/BaC,EAAmBC,GACvBA,EACJ,IACC,CAAC,CAAE,KAAAC,CAAI,IAAO;AAAA,mDAC+BA,CAAI;AAAA;AAAA,CAGvD,EACK,KAAK,EAAE,EAGCC,EAAmB,SAAY,CAC1C,MAAMC,EAAgB,MAAMZ,EAAoB,EAChDY,EAAc,QAAQ,CAAE,KAAM,KAAK,CAAE,EACrCL,EAAK,aAAa,mBAChB,YACAC,EAAiBI,CAAa,CAClC,CACA,EAEaC,EAAsBC,GAC1BA,EACJ,IACC,CAAC,CAAE,GAAAC,EAAI,UAAAC,EAAW,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,MAAAC,KAAY;AAAA,8CACdL,CAAE;AAAA,8CACFC,CAAS,UAAUC,CAAK;AAAA,uCAC/BA,CAAK;AAAA,yFAC6CC,CAAK;AAAA,oDAC1CC,CAAQ;AAAA,+CACbC,CAAK;AAAA;AAAA,OAGpD,EACK,KAAK,EAAE,EAGCC,EAAsB,MAAMhB,GAAe,CACtD,KAAM,CAAE,SAAAS,CAAQ,EAAK,MAAMV,EAAYC,CAAW,EAClDE,EAAK,YAAY,mBACf,YACAM,EAAoBC,CAAQ,CAChC,CACA,ECpCAQ,EAAS,EAET,MAAMC,EAAW,SAAS,cAAc,YAAY,EAEhDA,GACFA,EAAS,iBAAiB,QAASC,CAAQ,EAI7C,IAAIC,EAAO,EACXd,EAAgB,EAEhBU,EAAoBI,CAAI"}