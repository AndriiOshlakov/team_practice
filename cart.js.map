{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\n\n// Ініціалізація масиву кошика з localStorage або пустого масиву\nexport let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n\n// Функція для оновлення кількості товарів у кошику в навігації\nexport function updateCartCount() {\n  const cartCount = document.querySelector('.nav__count');\n  if (cartCount) {\n    cartCount.textContent = cartItems.length;\n  }\n}\n\n// Функція для оновлення тексту кнопки\nexport function updateCartButtonText(productId) {\n  const addToCartBtn = document.querySelector('.modal-product__btn--cart');\n  if (addToCartBtn) {\n    const isInCart = cartItems.includes(productId);\n    addToCartBtn.textContent = isInCart ? 'Remove from cart' : 'Add to cart';\n  }\n}\n\n// Функція для додавання/видалення товарів з кошика\nexport function toggleCartItem(productId) {\n  const index = cartItems.indexOf(productId);\n\n  if (index === -1) {\n    // Додати до кошика\n    cartItems.push(productId);\n  } else {\n    // Видалити з кошика\n    cartItems.splice(index, 1);\n  }\n\n  // Оновити localStorage\n  localStorage.setItem('cart', JSON.stringify(cartItems));\n\n  // Оновити UI\n  updateCartCount();\n  updateCartButtonText(productId);\n}\n\n// Функція для рендерингу продуктів у кошику\nexport function renderCartProducts(products) {\n  const productsList = document.querySelector('.products');\n\n  if (!productsList) return;\n\n  const cartProducts = products.filter(product =>\n    cartItems.includes(product.id)\n  );\n\n  const markup = cartProducts\n    .map(\n      ({ id, img, name, brand, category, price }) => `\n      <li class=\"products__item\" data-id=\"${id}\">\n        <img class=\"products__image\" src=\"${img}\" alt=\"${name}\"/>\n        <p class=\"products__title\">${name}</p>\n        <p class=\"products__brand\">\n          <span class=\"products__brand--bold\">Brand:</span> ${brand}\n        </p>\n        <p class=\"products__category\">Category: ${category}</p>\n        <p class=\"products__price\">Price: $${price}</p>\n      </li>\n    `\n    )\n    .join('');\n\n  productsList.innerHTML = markup;\n}\n\n// Event listener кнопки модалки\ndocument.addEventListener('click', e => {\n  if (e.target.matches('.modal-product__btn--cart')) {\n    const modal = e.target.closest('.modal');\n    const productId = modal.dataset.productId;\n    toggleCartItem(productId);\n  }\n});\n\n// Event listener відкриття модалки\ndocument.addEventListener('modalopen', e => {\n  const productId = e.detail.productId;\n  updateCartButtonText(productId);\n});\n\n// Ініціалізувати оновлення кількості товарів у кошику при завантаженні сторінки\ndocument.addEventListener('DOMContentLoaded', () => {\n  updateCartCount();\n});\n\nfetchProducts().then(products => renderCartProducts(products));\n"],"names":["cartItems","updateCartCount","cartCount","updateCartButtonText","productId","addToCartBtn","isInCart","toggleCartItem","index","renderCartProducts","products","productsList","markup","product","id","img","name","brand","category","price","e"],"mappings":"oCAGO,IAAIA,EAAY,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,CAAA,EAG5D,SAASC,GAAkB,CAChC,MAAMC,EAAY,SAAS,cAAc,aAAa,EAClDA,IACFA,EAAU,YAAcF,EAAU,OAEtC,CAGO,SAASG,EAAqBC,EAAW,CAC9C,MAAMC,EAAe,SAAS,cAAc,2BAA2B,EACvE,GAAIA,EAAc,CAChB,MAAMC,EAAWN,EAAU,SAASI,CAAS,EAC7CC,EAAa,YAAcC,EAAW,mBAAqB,aAC/D,CACA,CAGO,SAASC,EAAeH,EAAW,CACxC,MAAMI,EAAQR,EAAU,QAAQI,CAAS,EAErCI,IAAU,GAEZR,EAAU,KAAKI,CAAS,EAGxBJ,EAAU,OAAOQ,EAAO,CAAC,EAI3B,aAAa,QAAQ,OAAQ,KAAK,UAAUR,CAAS,CAAC,EAGtDC,EAAe,EACfE,EAAqBC,CAAS,CAChC,CAGO,SAASK,EAAmBC,EAAU,CAC3C,MAAMC,EAAe,SAAS,cAAc,WAAW,EAEvD,GAAI,CAACA,EAAc,OAMnB,MAAMC,EAJeF,EAAS,OAAOG,GACnCb,EAAU,SAASa,EAAQ,EAAE,CACjC,EAGK,IACC,CAAC,CAAE,GAAAC,EAAI,IAAAC,EAAK,KAAAC,EAAM,MAAAC,EAAO,SAAAC,EAAU,MAAAC,KAAY;AAAA,4CACTL,CAAE;AAAA,4CACFC,CAAG,UAAUC,CAAI;AAAA,qCACxBA,CAAI;AAAA;AAAA,8DAEqBC,CAAK;AAAA;AAAA,kDAEjBC,CAAQ;AAAA,6CACbC,CAAK;AAAA;AAAA,KAGlD,EACK,KAAK,EAAE,EAEVR,EAAa,UAAYC,CAC3B,CAGA,SAAS,iBAAiB,QAASQ,GAAK,CACtC,GAAIA,EAAE,OAAO,QAAQ,2BAA2B,EAAG,CAEjD,MAAMhB,EADQgB,EAAE,OAAO,QAAQ,QAAQ,EACf,QAAQ,UAChCb,EAAeH,CAAS,CAC5B,CACA,CAAC,EAGD,SAAS,iBAAiB,YAAagB,GAAK,CAC1C,MAAMhB,EAAYgB,EAAE,OAAO,UAC3BjB,EAAqBC,CAAS,CAChC,CAAC,EAGD,SAAS,iBAAiB,mBAAoB,IAAM,CAClDH,EAAe,CACjB,CAAC,EAED,cAAa,EAAG,KAAKS,GAAYD,EAAmBC,CAAQ,CAAC"}